"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8296],{38144:function(j,c,a){a.d(c,{Z:function(){return s}});var k=a(26042),l=a(69396),m=a(99534),n=a(85893);a(67294);var o=a(7297),b=a(87379),d=a(57247),e=a(44850);function f(){var a=(0,o.Z)(["\n  0% {\n    background-position: 50% 0%;\n  }\n  50% {\n    background-position: 50% 100%;\n  }\n  100% {\n    background-position: 50% 0%;\n  }\n"]);return f=function(){return a},a}function p(){var a=(0,o.Z)(["\n      animation: "," 3s ease infinite;\n      background-size: 400% 400%;\n    "]);return p=function(){return a},a}function g(){var a=(0,o.Z)(["\n  background: ",";\n  border-radius: ",";\n  color: ",";\n  overflow: hidden;\n  position: relative;\n\n  ","\n\n  padding: 1px 1px 3px 1px;\n\n  ","\n"]);return g=function(){return a},a}function h(){var a=(0,o.Z)(["\n  width: 100%;\n  height: 100%;\n  overflow: ",";\n  background: ",";\n  border-radius: ",";\n"]);return h=function(){return a},a}var q=(0,b.F4)(f()),i=b.ZP.div.withConfig({componentId:"sc-eecfaa46-0"}).withConfig({componentId:"sc-62e22978-0"})(g(),function(a){var c=a.isActive,d=a.isSuccess,e=a.isWarning,f=a.borderBackground,b=a.theme;return f||(e?b.colors.warning:d?b.colors.success:c?"linear-gradient(180deg, ".concat(b.colors.primaryBright,", ").concat(b.colors.secondary,")"):b.colors.cardBorder)},function(a){return a.theme.radii.card},function(a){var b=a.theme,c=a.isDisabled;return b.colors[c?"textDisabled":"text"]},function(a){return a.isActive&&(0,b.iv)(p(),q)},d.Dh),r=(0,b.ZP)(e.Z).withConfig({componentId:"sc-eecfaa46-1"}).withConfig({componentId:"sc-62e22978-1"})(h(),function(a){return a.hasCustomBorder?"initial":"inherit"},function(a){var c=a.theme,b=a.background;return null!=b?b:c.card.background},function(a){return a.theme.radii.card});i.defaultProps={isActive:!1,isSuccess:!1,isWarning:!1,isDisabled:!1};var s=function(a){var c=a.ribbon,d=a.children,e=a.background,b=(0,m.Z)(a,["ribbon","children","background"]);return(0,n.jsx)(i,(0,l.Z)((0,k.Z)({},b),{children:(0,n.jsxs)(r,{background:e,hasCustomBorder:!!b.borderBackground,children:[c,d]})}))}},30420:function(c,b,a){var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(17058);b.Z=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 24 24"},a),{children:(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8382 2.20573L16.12 6.82916L21.2222 7.57057C22.9037 7.81489 23.5751 9.88123 22.3584 11.0672L18.6663 14.6661L19.5379 19.7477C19.8251 21.4224 18.0674 22.6995 16.5635 21.9088L11.9998 19.5096L7.43624 21.9088C5.93232 22.6995 4.17457 21.4224 4.4618 19.7477L5.33337 14.6661L1.64134 11.0672C0.424631 9.88125 1.09601 7.8149 2.77747 7.57057L7.87974 6.82916L10.1615 2.20573C10.9135 0.682081 13.0862 0.682068 13.8382 2.20573Z"})}))}},21081:function(c,b,a){var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(17058);b.Z=function(a){return(0,f.jsx)(g.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 24 24"},a),{children:(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17726 8.2193C9.10443 8.36687 8.96365 8.46916 8.80079 8.49282L3.49187 9.26425C3.08176 9.32385 2.918 9.82783 3.21476 10.1171L7.05633 13.8617C7.17418 13.9766 7.22795 14.1421 7.20013 14.3043L6.29326 19.5917C6.22321 20.0002 6.65192 20.3117 7.01873 20.1188L11.7672 17.6224C11.9128 17.5458 12.0869 17.5458 12.2325 17.6224L16.981 20.1188C17.3478 20.3117 17.7765 20.0002 17.7064 19.5917L16.7996 14.3043C16.7718 14.1421 16.8255 13.9766 16.9434 13.8617L20.7849 10.1171C21.0817 9.82783 20.9179 9.32385 20.5078 9.26425L15.1989 8.49282C15.0361 8.46916 14.8953 8.36687 14.8224 8.2193L12.4482 3.4086C12.2648 3.03698 11.7349 3.03698 11.5515 3.4086L9.17726 8.2193ZM16.2669 6.62701L14.2417 2.52347C13.3247 0.665354 10.675 0.665354 9.75801 2.52347L7.73279 6.62701L3.20427 7.28504C1.15372 7.583 0.334945 10.1029 1.81874 11.5493L5.09561 14.7434L4.32204 19.2537C3.97177 21.2959 6.11535 22.8533 7.94942 21.8891L11.9999 19.7597L16.0503 21.8891C17.8844 22.8533 20.0279 21.2959 19.6777 19.2537L18.9041 14.7434L22.181 11.5493C23.6648 10.1029 22.846 7.583 20.7954 7.28504L16.2669 6.62701Z"})}))}},53985:function(s,e,a){a.d(e,{KX:function(){return ad},Mn:function(){return aj},JX:function(){return ab},jv:function(){return ah},lR:function(){return af},zV:function(){return ae},j8:function(){return ag},CN:function(){return am},B5:function(){return _},rf:function(){return $},Wz:function(){return aa},ku:function(){return an},Ws:function(){return al},"_n":function(){return ak},Q4:function(){return ao},Vq:function(){return ap},b0:function(){return ac},pV:function(){return ai}});var b=a(47568),f=a(34051),c=a.n(f),t=a(67294),u=a(9473),v=a(99982),w=a(12383),x=a(30734),y=a(31318),z=a(93293),A=a(7297),d=a(28687),B=a(75509),C=a(4003),D=a(74472);function E(){var a=(0,A.Z)(["\n      query pairDayDatas($startTime: Int!, $skip: Int!, $address: Bytes!) {\n        pairDayDatas(\n          first: 1000\n          skip: $skip\n          where: { pairAddress: $address, date_gt: $startTime }\n          orderBy: date\n          orderDirection: asc\n        ) {\n          date\n          dailyVolumeUSD\n          reserveUSD\n        }\n      }\n    "]);return E=function(){return a},a}var g,h,F=(g=(0,b.Z)(c().mark(function a(b,e){var f,g,h;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,f=(0,d.gql)(E()),a.next=4,B.dQ.request(f,{startTime:C.Rr,skip:b,address:e});case 4:return h=(g=a.sent.pairDayDatas).map(D.Iq),a.abrupt("return",{data:h,error:!1});case 9:return a.prev=9,a.t0=a.catch(0),console.error("Failed to fetch pool chart data",a.t0),a.abrupt("return",{error:!0});case 13:case"end":return a.stop()}},a,null,[[0,9]])})),function(a,b){return g.apply(this,arguments)}),G=(h=(0,b.Z)(c().mark(function a(b){return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,D.Hr)(F,b));case 1:case"end":return a.stop()}},a)})),function(a){return h.apply(this,arguments)}),H=a(29815);function i(){var a=(0,A.Z)(["\n  query poolTransactions($address: Bytes!) {\n    mints(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    swaps(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    burns(first: 35, orderBy: timestamp, orderDirection: desc, where: { pair: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n  }\n"]);return i=function(){return a},a}var j,I=(0,d.gql)(i()),J=(j=(0,b.Z)(c().mark(function a(b){var d,e,f,g;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B.dQ.request(I,{address:b});case 3:return e=(d=a.sent).mints.map(D.k9),f=d.burns.map(D._h),g=d.swaps.map(D.H_),a.abrupt("return",{data:(0,H.Z)(e).concat((0,H.Z)(f),(0,H.Z)(g)),error:!1});case 10:return a.prev=10,a.t0=a.catch(0),console.error("Failed to fetch transactions for pool ".concat(b),a.t0),a.abrupt("return",{error:!0});case 14:case"end":return a.stop()}},a,null,[[0,10]])})),function(a){return j.apply(this,arguments)});function K(){var a=(0,A.Z)(["\n      query tokenDayDatas($startTime: Int!, $skip: Int!, $address: Bytes!) {\n        tokenDayDatas(\n          first: 1000\n          skip: $skip\n          where: { token: $address, date_gt: $startTime }\n          orderBy: date\n          orderDirection: asc\n        ) {\n          date\n          dailyVolumeUSD\n          totalLiquidityUSD\n        }\n      }\n    "]);return K=function(){return a},a}var k,l,L=(k=(0,b.Z)(c().mark(function a(b,e){var f,g,h;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,f=(0,d.gql)(K()),a.next=4,B.dQ.request(f,{startTime:C.Rr,skip:b,address:e});case 4:return h=(g=a.sent.tokenDayDatas).map(D.v5),a.abrupt("return",{data:h,error:!1});case 9:return a.prev=9,a.t0=a.catch(0),console.error("Failed to fetch token chart data",a.t0),a.abrupt("return",{error:!0});case 13:case"end":return a.stop()}},a,null,[[0,9]])})),function(a,b){return k.apply(this,arguments)}),M=(l=(0,b.Z)(c().mark(function a(b){return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,D.Hr)(L,b));case 1:case"end":return a.stop()}},a)})),function(a){return l.apply(this,arguments)});function m(){var a=(0,A.Z)(["\n  query tokenTransactions($address: Bytes!) {\n    mintsAs0: mints(first: 10, orderBy: timestamp, orderDirection: desc, where: { token0: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    mintsAs1: mints(first: 10, orderBy: timestamp, orderDirection: desc, where: { token1: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    swapsAs0: swaps(first: 10, orderBy: timestamp, orderDirection: desc, where: { token0: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    swapsAs1: swaps(first: 10, orderBy: timestamp, orderDirection: desc, where: { token1: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    burnsAs0: burns(first: 10, orderBy: timestamp, orderDirection: desc, where: { token0: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n    burnsAs1: burns(first: 10, orderBy: timestamp, orderDirection: desc, where: { token1: $address }) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n  }\n"]);return m=function(){return a},a}var n,N=(0,d.gql)(m()),O=(n=(0,b.Z)(c().mark(function a(b){var d,e,f,g,h,i,j;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B.dQ.request(N,{address:b});case 3:return e=(d=a.sent).mintsAs0.map(D.k9),f=d.mintsAs1.map(D.k9),g=d.burnsAs0.map(D._h),h=d.burnsAs1.map(D._h),i=d.swapsAs0.map(D.H_),j=d.swapsAs1.map(D.H_),a.abrupt("return",{data:(0,H.Z)(e).concat((0,H.Z)(f),(0,H.Z)(g),(0,H.Z)(h),(0,H.Z)(i),(0,H.Z)(j)),error:!1});case 13:return a.prev=13,a.t0=a.catch(0),console.error("Failed to fetch transactions for token ".concat(b),a.t0),a.abrupt("return",{error:!0});case 17:case"end":return a.stop()}},a,null,[[0,13]])})),function(a){return n.apply(this,arguments)}),P=a(12937),Q=a(75126),R=a(85906),o=a(75472),S=a.n(o);function T(){var a=(0,A.Z)(["\n    query tokenPriceData {\n      ","\n    }\n  "]);return T=function(){return a},a}var p,U=function(b,a){return a.map(function(a){return"\n      t".concat(a.timestamp,':token(id:"').concat(b,'", block: { number: ').concat(a.number," }) { \n        derivedBNB\n      }\n      b").concat(a.timestamp,': bundle(id:"1", block: { number: ').concat(a.number," }) { \n        bnbPrice\n      }\n    ")})},V=function(a){return(0,d.gql)(T(),a)},W=(p=(0,b.Z)(c().mark(function a(b,d,e){var f,g,h,i,j,k,l,m,n;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(f=(0,v.Z)(new Date),g=[],h=e;h<=f;)g.push(h),h+=d;return a.prev=4,a.next=7,(0,P.z)(g,"asc",500);case 7:if(!(!(i=a.sent)||0===i.length)){a.next=11;break}return console.error("Error fetching blocks for timestamps",g),a.abrupt("return",{error:!1});case 11:return a.next=13,(0,Q.L)(V,U(b,i),R.JY,200);case 13:if(j=a.sent){a.next=17;break}return console.error("Price data failed to load"),a.abrupt("return",{error:!1});case 17:for(k=[],Object.keys(j).forEach(function(a){var b,c=a.split("t")[1];c&&k.push({timestamp:c,derivedBNB:(null===(b=j[a])|| void 0===b?void 0:b.derivedBNB)?parseFloat(j[a].derivedBNB):0,priceUSD:0})}),Object.keys(j).forEach(function(d){var e=d.split("b")[1];if(e){var a=k.findIndex(function(a){return a.timestamp===e});if(a>=0){var b,c,f=k[a].derivedBNB;k[a].priceUSD=parseFloat(null!==(c=null===(b=j[d])|| void 0===b?void 0:b.bnbPrice)&& void 0!==c?c:0)*f}}}),l=S()(k,function(a){return parseInt(a.timestamp,10)}),m=[],n=0;n<l.length-1;n++)m.push({time:parseFloat(l[n].timestamp),open:l[n].priceUSD,close:l[n+1].priceUSD,high:l[n+1].priceUSD,low:l[n].priceUSD});return a.abrupt("return",{data:m,error:!1});case 26:return a.prev=26,a.t0=a.catch(4),console.error("Failed to fetch price data for token ".concat(b),a.t0),a.abrupt("return",{error:!0});case 30:case"end":return a.stop()}},a,null,[[4,26]])})),function(a,b,c){return p.apply(this,arguments)});function q(){var a=(0,A.Z)(["\n  query poolsForToken($address: Bytes!, $blacklist: [String!]) {\n    asToken0: pairs(\n      first: 15\n      orderBy: trackedReserveBNB\n      orderDirection: desc\n      where: { totalTransactions_gt: 100, token0: $address, token1_not_in: $blacklist }\n    ) {\n      id\n    }\n    asToken1: pairs(\n      first: 15\n      orderBy: trackedReserveBNB\n      orderDirection: desc\n      where: { totalTransactions_gt: 100, token1: $address, token0_not_in: $blacklist }\n    ) {\n      id\n    }\n  }\n"]);return q=function(){return a},a}var r,X=(0,d.gql)(q()),Y=(r=(0,b.Z)(c().mark(function a(b){var d;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,B.dQ.request(X,{address:b,blacklist:C.tE});case 3:return d=a.sent,a.abrupt("return",{error:!1,addresses:d.asToken0.concat(d.asToken1).map(function(a){return a.id})});case 7:return a.prev=7,a.t0=a.catch(0),console.error("Failed to fetch pools for token ".concat(b),a.t0),a.abrupt("return",{error:!0});case 11:case"end":return a.stop()}},a,null,[[0,7]])})),function(a){return r.apply(this,arguments)}),Z=a(44522),$=function(){var a=(0,u.v9)(function(a){return a.info.protocol.overview}),b=(0,y.TL)(),c=(0,t.useCallback)(function(a){return b((0,Z.Uo)({protocolData:a}))},[b]);return[a,c]},_=function(){var a=(0,u.v9)(function(a){return a.info.protocol.chartData}),b=(0,y.TL)(),c=(0,t.useCallback)(function(a){return b((0,Z.bj)({chartData:a}))},[b]);return[a,c]},aa=function(){var a=(0,u.v9)(function(a){return a.info.protocol.transactions}),b=(0,y.TL)(),c=(0,t.useCallback)(function(a){return b((0,Z.oz)({transactions:a}))},[b]);return[a,c]},ab=function(){return(0,u.v9)(function(a){return a.info.pools.byAddress})},ac=function(){var a=(0,y.TL)();return(0,t.useCallback)(function(b){return a((0,Z.Bp)({pools:b}))},[a])},ad=function(){var a=(0,y.TL)();return(0,t.useCallback)(function(b){return a((0,Z.iF)({poolAddresses:b}))},[a])},ae=function(a){var d=ab(),b=ad(),c=a.reduce(function(a,b){return Object.keys(d).includes(b)||a.push(b),a},[]);return(0,t.useEffect)(function(){c&&b(c)},[b,c]),a.map(function(b){var a;return null===(a=d[b])|| void 0===a?void 0:a.data}).filter(function(a){return a})},af=function(f){var g=(0,y.TL)(),a=(0,u.v9)(function(a){return a.info.pools.byAddress[f]}),d=null==a?void 0:a.chartData,e=(0,t.useState)(!1),h=e[0],i=e[1];return(0,t.useEffect)(function(){var a,e=(a=(0,b.Z)(c().mark(function a(){var b,d,e;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,G(f);case 2:d=(b=a.sent).error,e=b.data,!d&&e&&g((0,Z.jw)({poolAddress:f,chartData:e})),d&&i(d);case 7:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});d||h||e()},[f,g,h,d]),d},ag=function(f){var g=(0,y.TL)(),a=(0,u.v9)(function(a){return a.info.pools.byAddress[f]}),d=null==a?void 0:a.transactions,e=(0,t.useState)(!1),h=e[0],i=e[1];return(0,t.useEffect)(function(){var a,e=(a=(0,b.Z)(c().mark(function a(){var b,d,e;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J(f);case 2:d=(b=a.sent).error,e=b.data,d?i(!0):g((0,Z.oG)({poolAddress:f,transactions:e}));case 6:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});d||h||e()},[f,g,h,d]),d},ah=function(){return(0,u.v9)(function(a){return a.info.tokens.byAddress})},ai=function(){var a=(0,y.TL)();return(0,t.useCallback)(function(b){a((0,Z.I6)({tokens:b}))},[a])},aj=function(){var a=(0,y.TL)();return(0,t.useCallback)(function(b){return a((0,Z.uP)({tokenAddresses:b}))},[a])},ak=function(a){var b=ah(),c=aj();return null==a||a.forEach(function(a){b[a]||c([a])}),(0,t.useMemo)(function(){if(a)return a.map(function(c){var a;return null===(a=b[c])|| void 0===a?void 0:a.data}).filter(function(a){return a})},[a,b])},al=function(a){var b,c=ah(),d=aj();if(a&&(0,z.UJ)(a))return c[a]||d([a]),null===(b=c[a])|| void 0===b?void 0:b.data},am=function(e){var f=(0,y.TL)(),a=(0,u.v9)(function(a){return a.info.tokens.byAddress[e]}).poolAddresses,d=(0,t.useState)(!1),g=d[0],h=d[1];return(0,t.useEffect)(function(){var d,i=(d=(0,b.Z)(c().mark(function a(){var b,d,g;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Y(e);case 2:d=(b=a.sent).error,g=b.addresses,!d&&g&&f((0,Z.TV)({tokenAddress:e,poolAddresses:g})),d&&h(d);case 7:case"end":return a.stop()}},a)})),function(){return d.apply(this,arguments)});a||g||i()},[e,f,g,a]),a},an=function(e){var f=(0,y.TL)(),a=(0,u.v9)(function(a){return a.info.tokens.byAddress[e]}).chartData,d=(0,t.useState)(!1),g=d[0],h=d[1];return(0,t.useEffect)(function(){var d,i=(d=(0,b.Z)(c().mark(function a(){var b,d,g;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,M(e);case 2:d=(b=a.sent).error,g=b.data,!d&&g&&f((0,Z.fo)({tokenAddress:e,chartData:g})),d&&h(d);case 7:case"end":return a.stop()}},a)})),function(){return d.apply(this,arguments)});a||g||i()},[e,f,g,a]),a},ao=function(h,d,e){var i=(0,y.TL)(),a=(0,u.v9)(function(a){return a.info.tokens.byAddress[h]}),f=null==a?void 0:a.priceData[d],g=(0,t.useState)(!1),j=g[0],n=g[1],k=null==a?void 0:a.priceData.oldestFetchedTimestamp,l=1e3*(0,v.Z)(new Date),m=(0,v.Z)((0,w.Z)((0,x.Z)(l,e)));return(0,t.useEffect)(function(){var a,e=(a=(0,b.Z)(c().mark(function a(){var b,e,f;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,W(h,d,m);case 2:e=(b=a.sent).data,f=b.error,e&&i((0,Z.Db)({tokenAddress:h,secondsInterval:d,priceData:e,oldestFetchedTimestamp:m})),f&&n(!0);case 7:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});f||j||e()},[h,i,j,d,k,f,m,e]),f},ap=function(e){var f=(0,y.TL)(),a=(0,u.v9)(function(a){return a.info.tokens.byAddress[e]}).transactions,d=(0,t.useState)(!1),g=d[0],h=d[1];return(0,t.useEffect)(function(){var d,i=(d=(0,b.Z)(c().mark(function a(){var b,d,g;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O(e);case 2:d=(b=a.sent).error,g=b.data,d?h(!0):g&&f((0,Z.Mw)({tokenAddress:e,transactions:g}));case 6:case"end":return a.stop()}},a)})),function(){return d.apply(this,arguments)});a||g||i()},[e,f,g,a]),a}},74472:function(g,b,a){a.d(b,{H_:function(){return o},Hr:function(){return r},Iq:function(){return q},"_h":function(){return n},k9:function(){return m},v5:function(){return p}});var c,d=a(47568),h=a(14924),i=a(26042),e=a(34051),f=a.n(e),j=a(4003),k=a(99982),l=a(92157),m=function(a){return{type:l.i.MINT,hash:a.id.split("-")[0],timestamp:a.timestamp,sender:a.to,token0Symbol:a.pair.token0.symbol,token1Symbol:a.pair.token1.symbol,token0Address:a.pair.token0.id,token1Address:a.pair.token1.id,amountUSD:parseFloat(a.amountUSD),amountToken0:parseFloat(a.amount0),amountToken1:parseFloat(a.amount1)}},n=function(a){return{type:l.i.BURN,hash:a.id.split("-")[0],timestamp:a.timestamp,sender:a.sender,token0Symbol:a.pair.token0.symbol,token1Symbol:a.pair.token1.symbol,token0Address:a.pair.token0.id,token1Address:a.pair.token1.id,amountUSD:parseFloat(a.amountUSD),amountToken0:parseFloat(a.amount0),amountToken1:parseFloat(a.amount1)}},o=function(a){return{type:l.i.SWAP,hash:a.id.split("-")[0],timestamp:a.timestamp,sender:a.from,token0Symbol:a.pair.token0.symbol,token1Symbol:a.pair.token1.symbol,token0Address:a.pair.token0.id,token1Address:a.pair.token1.id,amountUSD:parseFloat(a.amountUSD),amountToken0:parseFloat(a.amount0In)-parseFloat(a.amount0Out),amountToken1:parseFloat(a.amount1In)-parseFloat(a.amount1Out)}},p=function(a){return{date:a.date,volumeUSD:parseFloat(a.dailyVolumeUSD),liquidityUSD:parseFloat(a.totalLiquidityUSD)}},q=function(a){return{date:a.date,volumeUSD:parseFloat(a.dailyVolumeUSD),liquidityUSD:parseFloat(a.reserveUSD)}},r=(c=(0,d.Z)(f().mark(function a(b,c){var d,e,g,l,m,n,o,p,q,r,s,t,u,v,w,x;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d=[],e=!1,g=0,l=!1;case 4:if(l){a.next=16;break}return a.next=7,b(g,c);case 7:n=(m=a.sent).data,o=m.error,g+=1e3,l=(null==n?void 0:n.length)<1e3,e=o,n&&(d=d.concat(n)),a.next=4;break;case 16:if(!(e||0===d.length)){a.next=18;break}return a.abrupt("return",{error:!0});case 18:for(q=Object.keys(p=d.reduce(function(b,a){var c=parseInt((a.date/j.Bq).toFixed(0));return(0,i.Z)((0,h.Z)({},c,a),b)},{})).map(function(a){return parseInt(a,10)}),r=p[q[0]],t=null!==(s=null==r?void 0:r.date)&& void 0!==s?s:j.Rr,v=null!==(u=null==r?void 0:r.liquidityUSD)&& void 0!==u?u:0,w=(0,k.Z)(new Date);t<w-j.Bq;)t+=j.Bq,x=parseInt((t/j.Bq).toFixed(0),10),Object.keys(p).includes(x.toString())?v=p[x].liquidityUSD:p[x]={date:t,volumeUSD:0,liquidityUSD:v};return a.abrupt("return",{data:Object.values(p),error:!1});case 28:case"end":return a.stop()}},a)})),function(a,b){return c.apply(this,arguments)})},92157:function(e,c,d){var b,a;d.d(c,{i:function(){return b}}),(a=b||(b={}))[a.SWAP=0]="SWAP",a[a.MINT=1]="MINT",a[a.BURN=2]="BURN"},60764:function(f,c,a){a.d(c,{X:function(){return q},g:function(){return s}});var g=a(26042),h=a(99534),i=a(7297),j=a(85893),k=a(67294),b=a(87379),l=a(93293),m=a(69396),n=a(62276),o=[];function d(){var a=(0,i.Z)(["\n  width: ",";\n  height: ",";\n  border-radius: ",";\n  box-shadow: 0px 6px 10px rgba(0, 0, 0, 0.075);\n  background-color: ",";\n  color: ",";\n"]);return d=function(){return a},a}function e(){var a=(0,i.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 32px;\n"]);return e=function(){return a},a}var p=(0,b.ZP)(function(a){var b=a.src,d=a.alt,c=(0,h.Z)(a,["src","alt"]),f=(0,k.useState)(0)[1],e=o.includes(b);return b&&!e?(0,j.jsx)("img",(0,m.Z)((0,g.Z)({},c),{alt:d,src:b,onError:function(){b&&o.push(b),f(function(a){return a+1})}})):(0,j.jsx)(n.Z,(0,g.Z)({},c))}).withConfig({componentId:"sc-ad88ead6-0"})(d(),function(a){return a.size},function(a){return a.size},function(a){return a.size},function(a){return a.theme.colors.background},function(a){return a.theme.colors.text}),q=function(a){var c=a.address,b=a.size,d=(0,h.Z)(a,["address","size"]),e=(0,k.useMemo)(function(){return(0,l.UJ)(c)?"/logo.png":null},[c]);return(0,j.jsx)(p,(0,g.Z)({size:void 0===b?"24px":b,src:e,alt:"token logo"},d))},r=b.ZP.div.withConfig({componentId:"sc-ad88ead6-1"})(e()),s=function(a){var b=a.address0,c=a.address1,d=a.size,e=void 0===d?16:d;return(0,j.jsxs)(r,{children:[b&&(0,j.jsx)(q,{address:b,size:"".concat(e.toString(),"px")}),c&&(0,j.jsx)(q,{address:c,size:"".concat(e.toString(),"px")})]})}},58910:function(k,c,a){a.d(c,{Eh:function(){return p},Ob:function(){return o},SS:function(){return q},"_J":function(){return m},y6:function(){return n}});var l=a(7297),b=a(87379),d=a(97114),e=a(4318);function f(){var a=(0,l.Z)(["\n  cursor: pointer;\n"]);return f=function(){return a},a}function g(){var a=(0,l.Z)(["\n  width: 100%;\n  padding-top: 16px;\n  flex-direction: column;\n  gap: 16px;\n  background-color: ",";\n  border-radius: ",";\n  border: 1px solid ",";\n"]);return g=function(){return a},a}function h(){var a=(0,l.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 0.2em;\n  margin-bottom: 1.2em;\n"]);return h=function(){return a},a}function i(){var a=(0,l.Z)(["\n  color: ",";\n  padding: 0 20px;\n  :hover {\n    cursor: pointer;\n  }\n"]);return i=function(){return a},a}function j(){var a=(0,l.Z)(["\n  height: 1px;\n  background-color: ",";\n  width: 100%;\n"]);return j=function(){return a},a}var m=(0,b.ZP)(d.Z).withConfig({componentId:"sc-4dd460a5-0"})(f()),n=(0,b.ZP)(e.Z).withConfig({componentId:"sc-4dd460a5-1"})(g(),function(a){return a.theme.card.background},function(a){return a.theme.radii.card},function(a){return a.theme.colors.cardBorder}),o=b.ZP.div.withConfig({componentId:"sc-4dd460a5-2"})(h()),p=b.ZP.div.withConfig({componentId:"sc-4dd460a5-3"})(i(),function(a){return a.theme.colors.primary}),q=b.ZP.div.withConfig({componentId:"sc-4dd460a5-4"})(j(),function(a){return a.theme.colors.cardBorder})},53614:function(e,b,a){var f=a(26042),g=a(69396),h=a(99534),i=a(7297),j=a(85893),c=a(87379),k=a(30420),l=a(21081),m=a(23917);function d(){var a=(0,i.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n"]);return d=function(){return a},a}var n=c.ZP.div.withConfig({componentId:"sc-88fb7d13-0"})(d());b.Z=function(b){var c=b.fill,d=(0,h.Z)(b,["fill"]),a=(0,m.ZP)().theme;return(0,j.jsx)(n,(0,g.Z)((0,f.Z)({},d),{children:void 0!==c&&c?(0,j.jsx)(k.Z,{stroke:a.colors.warning,color:a.colors.warning}):(0,j.jsx)(l.Z,{stroke:a.colors.textDisabled})}))}},7585:function(E,f,a){a.d(f,{O:function(){return aW}});var F=a(85893),c=a(47568),G=a(10253),g=a(34051),d=a.n(g),H=a(67294),I=a(7297),e=a(28687),J=a(75509),K=a(19683),L=a(79900),M=a(79566),N=a(40393);function O(){var a=(0,I.Z)(["query overview {\n      pancakeFactories(\n        ","\n        first: 1) {\n        totalTransactions\n        totalVolumeUSD\n        totalLiquidityUSD\n      }\n    }"]);return O=function(){return a},a}var h,P=(h=(0,c.Z)(d().mark(function a(b){var c,f;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=(0,e.gql)(O(),b?"block: { number: ".concat(b,"}"):""),a.next=4,J.dQ.request(c);case 4:return f=a.sent,a.abrupt("return",{data:f,error:!1});case 8:return a.prev=8,a.t0=a.catch(0),console.error("Failed to fetch info overview",a.t0),a.abrupt("return",{data:null,error:!0});case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(a){return h.apply(this,arguments)}),Q=function(a){return a?{totalTransactions:parseFloat(a.totalTransactions),totalVolumeUSD:parseFloat(a.totalVolumeUSD),totalLiquidityUSD:parseFloat(a.totalLiquidityUSD)}:null},R=function(){var a=(0,H.useState)({error:!1}),b=a[0],n=a[1],e=(0,G.Z)((0,L.z)(),2),i=e[0],j=e[1],f=(0,M.Z)([i,j]),g=f.blocks,k=f.error,h=(0,G.Z)(null!=g?g:[],2),l=h[0],m=h[1];return(0,H.useEffect)(function(){var a,e=(a=(0,c.Z)(d().mark(function a(){var b,c,e,f,g,h,i,j,k,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,H;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=G.Z,a.next=5,Promise.all([P(),P(null!==(f=null==l?void 0:l.number)&& void 0!==f?f:void 0),P(null!==(g=null==m?void 0:m.number)&& void 0!==g?g:void 0),]);case 5:a.t1=a.sent,j=(i=(h=(0,a.t0)(a.t1,3))[0]).error,k=i.data,o=h[1],p=o.error,q=o.data,r=h[2],s=r.error,t=r.data,u=j||p||s,v=Q(null==k?void 0:null===(b=k.pancakeFactories)|| void 0===b?void 0:b[0]),w=Q(null==q?void 0:null===(c=q.pancakeFactories)|| void 0===c?void 0:c[0]),x=Q(null==t?void 0:null===(e=t.pancakeFactories)|| void 0===e?void 0:e[0]),y=v&&w&&x,u||!y?n({error:!0}):(A=(z=(0,G.Z)((0,K.T)(v.totalVolumeUSD,w.totalVolumeUSD,x.totalVolumeUSD),2))[0],B=z[1],C=(0,N.Y)(v.totalLiquidityUSD,w.totalLiquidityUSD),E=(D=(0,G.Z)((0,K.T)(v.totalTransactions,w.totalTransactions,x.totalTransactions),2))[0],F=D[1],n({error:!1,data:H={volumeUSD:A,volumeUSDChange:"number"==typeof B?B:0,liquidityUSD:v.totalLiquidityUSD,liquidityUSDChange:C,txCount:E,txCountChange:F}}));case 22:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});(null==l?void 0:l.number)&&(null==m?void 0:m.number)&&!k&&!b.data&&e()},[l,m,k,b]),b},S=a(4003),T=a(74472);function i(){var a=(0,I.Z)(["\n  query overviewCharts($startTime: Int!, $skip: Int!) {\n    pancakeDayDatas(first: 1000, skip: $skip, where: { date_gt: $startTime }, orderBy: date, orderDirection: asc) {\n      date\n      dailyVolumeUSD\n      totalLiquidityUSD\n    }\n  }\n"]);return i=function(){return a},a}var j,U=(0,e.gql)(i()),V=(j=(0,c.Z)(d().mark(function a(b){var c,e;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,J.dQ.request(U,{startTime:S.Rr,skip:b});case 3:return e=(c=a.sent.pancakeDayDatas).map(T.v5),a.abrupt("return",{data:e,error:!1});case 8:return a.prev=8,a.t0=a.catch(0),console.error("Failed to fetch overview chart data",a.t0),a.abrupt("return",{error:!0});case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(a){return j.apply(this,arguments)}),W=function(){var a=(0,H.useState)(),b=a[0],g=a[1],e=(0,H.useState)(!1),f=e[0],h=e[1];return(0,H.useEffect)(function(){var a,e=(a=(0,c.Z)(d().mark(function a(){var b;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,T.Hr)(V);case 2:(b=a.sent.data)?g(b):h(!0);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});b||f||e()},[b,f]),{error:f,data:b}},X=a(29815);function k(){var a=(0,I.Z)(["\n  query overviewTransactions {\n    mints: mints(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      to\n      amount0\n      amount1\n      amountUSD\n    }\n    swaps: swaps(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      from\n      amount0In\n      amount1In\n      amount0Out\n      amount1Out\n      amountUSD\n    }\n    burns: burns(first: 33, orderBy: timestamp, orderDirection: desc) {\n      id\n      timestamp\n      pair {\n        token0 {\n          id\n          symbol\n        }\n        token1 {\n          id\n          symbol\n        }\n      }\n      sender\n      amount0\n      amount1\n      amountUSD\n    }\n  }\n"]);return k=function(){return a},a}var l,Y=(0,e.gql)(k()),Z=(l=(0,c.Z)(d().mark(function a(){var b,c,e,f;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,J.dQ.request(Y);case 3:if(b=a.sent){a.next=6;break}return a.abrupt("return",void 0);case 6:return c=b.mints.map(T.k9),e=b.burns.map(T._h),f=b.swaps.map(T.H_),a.abrupt("return",(0,X.Z)(c).concat((0,X.Z)(e),(0,X.Z)(f)).sort(function(a,b){return parseInt(b.timestamp,10)-parseInt(a.timestamp,10)}));case 12:return a.prev=12,a.t0=a.catch(0),a.abrupt("return",void 0);case 15:case"end":return a.stop()}},a,null,[[0,12]])})),function(){return l.apply(this,arguments)});function $(){var a=(0,I.Z)(["\n      query topPools($blacklist: [String!], $timestamp24hAgo: Int) {\n        pairDayDatas(\n          first: 30\n          where: { dailyTxns_gt: 300, token0_not_in: $blacklist, token1_not_in: $blacklist, date_gt: $timestamp24hAgo }\n          orderBy: dailyVolumeUSD\n          orderDirection: desc\n        ) {\n          id\n        }\n      }\n    "]);return $=function(){return a},a}var m,_=(m=(0,c.Z)(d().mark(function a(b){var c,f;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=(0,e.gql)($()),a.next=4,J.dQ.request(c,{blacklist:S.tE,timestamp24hAgo:b});case 4:return f=a.sent,a.abrupt("return",f.pairDayDatas.map(function(a){return a.id.split("-")[0]}));case 8:return a.prev=8,a.t0=a.catch(0),console.error("Failed to fetch top pools",a.t0),a.abrupt("return",[]);case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(a){return m.apply(this,arguments)}),aa=function(){var a=(0,H.useState)([]),b=a[0],f=a[1],e=(0,G.Z)((0,L.z)(),1)[0];return(0,H.useEffect)(function(){var a,g=(a=(0,c.Z)(d().mark(function a(){var b;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_(e);case 2:f(b=a.sent);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});0===b.length&&g()},[b,e]),b},ab=a(71021),ac=a(26042),ad=a(69396);function ae(){var a=(0,I.Z)(["\n      query tokens {\n        now: ","\n        oneDayAgo: ","\n        twoDaysAgo: ","\n        oneWeekAgo: ","\n        twoWeeksAgo: ","\n      }\n    "]);return ae=function(){return a},a}var n,af=function(a,b){var c='["'.concat(b.join('","'),'"]'),d=a?"block: {number: ".concat(a,"}"):"";return"tokens(\n      where: {id_in: ".concat(c,"}\n      ").concat(d,"\n      orderBy: tradeVolumeUSD\n      orderDirection: desc\n    ) {\n      id\n      symbol\n      name\n      derivedBNB\n      derivedUSD\n      tradeVolumeUSD\n      totalTransactions\n      totalLiquidity\n    }\n  ")},ag=(n=(0,c.Z)(d().mark(function a(b,c,f,g,h){var i,j;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i=(0,e.gql)(ae(),af(null,h),af(b,h),af(c,h),af(f,h),af(g,h)),a.next=4,J.dQ.request(i);case 4:return j=a.sent,a.abrupt("return",{data:j,error:!1});case 8:return a.prev=8,a.t0=a.catch(0),console.error("Failed to fetch token data",a.t0),a.abrupt("return",{error:!0});case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(a,b,c,d,e){return n.apply(this,arguments)}),ah=function(a){return a?a.reduce(function(b,a){var c=a.derivedBNB,d=a.derivedUSD,e=a.tradeVolumeUSD,f=a.totalTransactions,g=a.totalLiquidity;return b[a.id]=(0,ad.Z)((0,ac.Z)({},a),{derivedBNB:parseFloat(c),derivedUSD:parseFloat(d),tradeVolumeUSD:parseFloat(e),totalTransactions:parseFloat(f),totalLiquidity:parseFloat(g)}),b},{}):{}},ai=function(h){var e=(0,H.useState)({error:!1}),i=e[0],s=e[1],a=(0,G.Z)((0,L.z)(),4),j=a[0],k=a[1],l=a[2],m=a[3],f=(0,M.Z)([j,k,l,m]),g=f.blocks,n=f.error,b=(0,G.Z)(null!=g?g:[],4),o=b[0],p=b[1],q=b[2],r=b[3];return(0,H.useEffect)(function(){var a,b=(a=(0,c.Z)(d().mark(function a(){var b,c,e,f,g,i,j,k,l;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ag(o.number,p.number,q.number,r.number,h);case 2:c=(b=a.sent).error,e=b.data,c?s({error:!0}):(f=ah(null==e?void 0:e.now),g=ah(null==e?void 0:e.oneDayAgo),i=ah(null==e?void 0:e.twoDaysAgo),j=ah(null==e?void 0:e.oneWeekAgo),k=ah(null==e?void 0:e.twoWeeksAgo),l=h.reduce(function(h,c){var a=f[c],b=g[c],l=i[c],d=j[c],m=k[c],n=(0,G.Z)((0,K.T)(null==a?void 0:a.tradeVolumeUSD,null==b?void 0:b.tradeVolumeUSD,null==l?void 0:l.tradeVolumeUSD),2),p=n[0],q=n[1],r=(0,G.Z)((0,K.T)(null==a?void 0:a.tradeVolumeUSD,null==d?void 0:d.tradeVolumeUSD,null==m?void 0:m.tradeVolumeUSD),1),s=r[0],o=a?a.totalLiquidity*a.derivedUSD:0,t=b?b.totalLiquidity*b.derivedUSD:0,u=(0,N.Y)(o,t),v=a?a.totalLiquidity:0,e=a?a.derivedUSD:0,w=b?b.derivedUSD:0,x=d?d.derivedUSD:0,y=(0,N.Y)(e,w),z=(0,N.Y)(e,x),A=(0,N.D)(null==a?void 0:a.totalTransactions,null==b?void 0:b.totalTransactions);return h[c]={exists:!!a,address:c,name:a?a.name:"",symbol:a?a.symbol:"",volumeUSD:p,volumeUSDChange:q,volumeUSDWeek:s,txCount:A,liquidityUSD:o,liquidityUSDChange:u,liquidityToken:v,priceUSD:e,priceUSDChange:y,priceUSDChangeWeek:z},h},{}),s({data:l,error:!1}));case 6:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)}),e=(null==o?void 0:o.number)&&(null==p?void 0:p.number)&&(null==q?void 0:q.number)&&(null==r?void 0:r.number);h.length>0&&e&&!n&&b()},[h,o,p,q,r,n]),i};function aj(){var a=(0,I.Z)(["\n      query topTokens($blacklist: [String!], $timestamp24hAgo: Int) {\n        tokenDayDatas(\n          first: 30\n          where: { dailyTxns_gt: 300, id_not_in: $blacklist, date_gt: $timestamp24hAgo }\n          orderBy: dailyVolumeUSD\n          orderDirection: desc\n        ) {\n          id\n        }\n      }\n    "]);return aj=function(){return a},a}var o,ak=(o=(0,c.Z)(d().mark(function a(b){var c,f;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=(0,e.gql)(aj()),a.next=4,J.dQ.request(c,{blacklist:S.tE,timestamp24hAgo:b});case 4:return f=a.sent,a.abrupt("return",f.tokenDayDatas.map(function(a){return a.id.split("-")[0]}));case 8:return a.prev=8,a.t0=a.catch(0),console.error("Failed to fetch top tokens",a.t0),a.abrupt("return",[]);case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(a){return o.apply(this,arguments)}),al=function(){var a=(0,H.useState)([]),b=a[0],f=a[1],e=(0,G.Z)((0,L.z)(),1)[0];return(0,H.useEffect)(function(){var a,g=(a=(0,c.Z)(d().mark(function a(){var b;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ak(e);case 2:f(b=a.sent);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});0===b.length&&g()},[b,e]),b},am=a(53985),an=function(){var a=(0,G.Z)((0,am.rf)(),2),h=a[0],i=a[1],b=R(),j=b.data,k=b.error,e=(0,G.Z)((0,am.B5)(),2),l=e[0],m=e[1],f=W(),n=f.data,o=f.error,g=(0,G.Z)((0,am.Wz)(),2),p=g[0],q=g[1];return(0,H.useEffect)(function(){void 0===h&&j&&!k&&i(j)},[k,j,h,i]),(0,H.useEffect)(function(){void 0===l&&n&&!o&&m(n)},[l,o,n,m]),(0,H.useEffect)(function(){var a,b=(a=(0,c.Z)(d().mark(function a(){var b;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Z();case 2:(b=a.sent)&&q(b);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});p||b()},[p,q]),null},ao=function(){var b=(0,am.b0)(),c=(0,am.KX)(),d=(0,am.JX)(),e=aa();(0,H.useEffect)(function(){e.length>0&&c(e)},[c,e]);var f=(0,H.useMemo)(function(){return Object.keys(d).reduce(function(a,b){return d[b].data||a.push(b),a},[])},[d]),a=(0,ab.ZP)(f),g=a.error,h=a.data;return(0,H.useEffect)(function(){h&&!g&&b(Object.values(h))},[g,h,b]),null},ap=function(){var b=(0,am.pV)(),c=(0,am.Mn)(),d=(0,am.jv)(),e=al();(0,H.useEffect)(function(){e.length>0&&c(e)},[c,e]);var f=(0,H.useMemo)(function(){return Object.keys(d).reduce(function(a,b){return d[b].data||a.push(b),a},[])},[d]),a=ai(f),g=a.error,h=a.data;return(0,H.useEffect)(function(){h&&!g&&b(Object.values(h))},[g,h,b]),null},p=a(4318),aq=a(44850),ar=a(50156),as=a(39320),at=a(53629),au=a(99150),av=a(11163),b=a(87379),q=a(5324),aw=a(98946),ax=a(84091),ay=a(97114);function r(){var a=(0,I.Z)(["\n  query tokens($symbol: String, $name: String, $id: String) {\n    asSymbol: tokens(first: 10, where: { symbol_contains: $symbol }, orderBy: tradeVolumeUSD, orderDirection: desc) {\n      id\n    }\n    asName: tokens(first: 10, where: { name_contains: $name }, orderBy: tradeVolumeUSD, orderDirection: desc) {\n      id\n    }\n    asAddress: tokens(first: 1, where: { id: $id }, orderBy: tradeVolumeUSD, orderDirection: desc) {\n      id\n    }\n  }\n"]);return r=function(){return a},a}function s(){var a=(0,I.Z)(["\n  query pools($tokens: [Bytes]!, $id: String) {\n    as0: pairs(first: 10, where: { token0_in: $tokens }) {\n      id\n    }\n    as1: pairs(first: 10, where: { token1_in: $tokens }) {\n      id\n    }\n    asAddress: pairs(first: 1, where: { id: $id }) {\n      id\n    }\n  }\n"]);return s=function(){return a},a}var az=(0,e.gql)(r()),aA=(0,e.gql)(s()),aB=function(a){var b=a.reduce(function(a,b){return(0,X.Z)(a).concat((0,X.Z)(b))},[]).map(function(a){return a.id});return Array.from(new Set(b))},aC=function(b){var e=(0,H.useState)({tokens:[],pools:[],loading:!1,error:!1}),a=e[0],k=e[1],f=b.length<S.OZ;(0,H.useEffect)(function(){k({tokens:[],pools:[],loading:!f,error:!1})},[b,f]),(0,H.useEffect)(function(){var a,e=(a=(0,c.Z)(d().mark(function a(){var c,e,f;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,J.dQ.request(az,{symbol:b.toUpperCase(),name:b.charAt(0).toUpperCase()+b.slice(1),id:b.toLowerCase()});case 3:return e=aB([(c=a.sent).asAddress,c.asSymbol,c.asName]),a.next=7,J.dQ.request(aA,{tokens:e,id:b.toLowerCase()});case 7:k({tokens:e,pools:aB([(f=a.sent).asAddress,f.as0,f.as1]),loading:!1,error:!1}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.error("Search failed for ".concat(b),a.t0),k({tokens:[],pools:[],loading:!1,error:!0});case 15:case"end":return a.stop()}},a,null,[[0,11]])})),function(){return a.apply(this,arguments)});f||e()},[b,f]);var g=(0,am._n)(a.tokens),h=(0,am.zV)(a.pools),i=g.length!==a.tokens.length||a.loading,j=h.length!==a.pools.length||a.loading;return{tokens:g,pools:h,tokensLoading:i,poolsLoading:j,error:a.error}},aD=a(60764),aE=a(56245),aF=a(68605),aG=a(53614),aH=a(55999),t=a(75472),aI=a.n(t);function u(){var a=(0,I.Z)(["\n  position: relative;\n  z-index: 30;\n  width: 100%;\n"]);return u=function(){return a},a}function v(){var a=(0,I.Z)(["\n  z-index: 9999;\n  border: 1px solid ",";\n"]);return v=function(){return a},a}function w(){var a=(0,I.Z)(["\n  display: ",";\n  flex-direction: column;\n  z-index: 9999;\n  width: 100%;\n  top: 50px;\n  max-height: 400px;\n  overflow: auto;\n  right: 0;\n  padding: 1.5rem;\n  padding-bottom: 2.5rem;\n  position: absolute;\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.04), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.04);\n  border: 1px solid ",";\n  margin-top: 4px;\n  "," {\n    margin-top: 0;\n    width: 500px;\n    max-height: 600px;\n  }\n  "," {\n    margin-top: 0;\n    width: 800px;\n    max-height: 600px;\n  }\n"]);return w=function(){return a},a}function x(){var a=(0,I.Z)(["\n  position: absolute;\n  min-height: 100vh;\n  width: 100vw;\n  z-index: 10;\n  background-color: black;\n  opacity: 0.7;\n  left: 0;\n  top: 0;\n"]);return x=function(){return a},a}function y(){var a=(0,I.Z)(["\n  display: grid;\n  grid-gap: 1em;\n  grid-template-columns: 1fr;\n  margin: 8px 0;\n  align-items: center;\n  "," {\n    grid-template-columns: 1.5fr repeat(3, 1fr);\n  }\n"]);return y=function(){return a},a}function z(){var a=(0,I.Z)(["\n  height: 1px;\n  background-color: ",";\n  width: 100%;\n  margin: 16px 0;\n"]);return z=function(){return a},a}function A(){var a=(0,I.Z)(["\n  color: ",";\n  display: ",";\n  margin-top: 16px;\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n"]);return A=function(){return a},a}function B(){var a=(0,I.Z)(["\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n"]);return B=function(){return a},a}function C(){var a=(0,I.Z)(["\n  width: fit-content;\n  padding: 4px 8px;\n  border-radius: 8px;\n  display: flex;\n  font-size: 12px;\n  font-weight: 600;\n  margin-right: 10px;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  color: ",";\n  :hover {\n    opacity: 0.6;\n    cursor: pointer;\n  }\n"]);return C=function(){return a},a}var aJ=b.ZP.div.withConfig({componentId:"sc-dc42e8e2-0"})(u()),aK=(0,b.ZP)(q.Z).withConfig({componentId:"sc-dc42e8e2-1"})(v(),function(a){return a.theme.colors.inputSecondary}),aL=b.ZP.div.withConfig({componentId:"sc-dc42e8e2-2"})(w(),function(a){return a.hide?"none":"flex"},function(a){return a.theme.colors.background},function(a){return a.theme.colors.secondary},function(a){return a.theme.mediaQueries.sm},function(a){return a.theme.mediaQueries.md}),aM=b.ZP.div.withConfig({componentId:"sc-dc42e8e2-3"})(x()),aN=b.ZP.div.withConfig({componentId:"sc-dc42e8e2-4"})(y(),function(a){return a.theme.mediaQueries.sm}),aO=b.ZP.div.withConfig({componentId:"sc-dc42e8e2-5"})(z(),function(a){return a.theme.colors.cardBorder}),aP=b.ZP.div.withConfig({componentId:"sc-dc42e8e2-6"})(A(),function(a){return a.theme.colors.secondary},function(a){return a.hide?"none":"block"}),aQ=b.ZP.div.withConfig({componentId:"sc-dc42e8e2-7"})(B()),aR=b.ZP.div.withConfig({componentId:"sc-dc42e8e2-8"})(C(),function(a){var b=a.theme,c=a.enabled;return c?b.colors.primary:"transparent"},function(a){var b=a.theme;return a.enabled?b.card.background:b.colors.secondary}),aS=function(a,b){return a.address.toLowerCase().includes(b.toLowerCase())||a.symbol.toLowerCase().includes(b.toLowerCase())||a.name.toLowerCase().includes(b.toLowerCase())},aT=function(){var V=(0,av.useRouter)(),m=(0,aw.Z)(),c=m.isXs,d=m.isSm,a=(0,au.$G)().t,M=(0,H.useRef)(null),N=(0,H.useRef)(null),n=(0,H.useRef)(null),o=(0,H.useState)(!1),k=o[0],W=o[1],q=(0,H.useState)(""),g=q[0],X=q[1],e=(0,aH.Z)(g,600),f=aC(e),O=f.tokens,P=f.pools,Q=f.tokensLoading,r=f.poolsLoading,R=f.error,s=(0,H.useState)(3),t=s[0],Y=s[1],u=(0,H.useState)(3),v=u[0],Z=u[1];(0,H.useEffect)(function(){Y(3),Z(3)},[e]);var $=function(a){var b=N.current&&N.current.contains(a.target),c=M.current&&M.current.contains(a.target),d=n.current&&n.current.contains(a.target);b||c||d||(Z(3),Y(3),W(!1))};(0,H.useEffect)(function(){return k?(document.addEventListener("click",$),document.querySelector("body").style.overflow="hidden"):(document.removeEventListener("click",$),document.querySelector("body").style.overflow="visible"),function(){document.removeEventListener("click",$)}},[k]);var h,w,x,y,l,z,A,B,C=(0,G.Z)((0,aF.z6)(),2),D=C[0],_=C[1],E=(0,G.Z)((0,aF.Hx)(),2),I=E[0],aa=E[1],ab=function(a){W(!1),Z(3),Y(3),V.push(a)},J=(0,am._n)(D),T=J.length!==D.length,K=(0,am.zV)(I),U=K.length!==I.length,L=(0,H.useState)(!1),b=L[0],ac=L[1],i=(0,H.useMemo)(function(){return b?J.filter(function(a){return aS(a,g)}):aI()(O,function(a){return a.volumeUSD},"desc")},[b,O,J,g]),j=(0,H.useMemo)(function(){return b?K.filter(function(c){var a,b;return a=c,b=g,a.address.toLowerCase().includes(b.toLowerCase())||aS(a.token0,b)||aS(a.token1,b)}):aI()(P,function(a){return a.volumeUSD},"desc")},[P,b,K,g]);return(0,F.jsxs)(F.Fragment,{children:[k?(0,F.jsx)(aM,{}):null,(0,F.jsxs)(aJ,{children:[(0,F.jsx)(aK,{type:"text",value:g,onChange:function(a){X(a.target.value)},placeholder:a("Search pools or tokens"),ref:M,onFocus:function(){W(!0)}}),(0,F.jsxs)(aL,{hide:!k,ref:N,children:[(0,F.jsxs)(p.Z,{mb:"16px",children:[(0,F.jsx)(aR,{enabled:!b,onClick:function(){return ac(!1)},children:a("Search")}),(0,F.jsx)(aR,{enabled:b,onClick:function(){return ac(!0)},children:a("Watchlist")})]}),R&&(0,F.jsx)(ay.Z,{color:"failure",children:a("Error occurred, please try again")}),(0,F.jsxs)(aN,{children:[(0,F.jsx)(ay.Z,{bold:!0,color:"secondary",children:a("Tokens")}),!c&&!d&&(0,F.jsx)(ay.Z,{textAlign:"end",fontSize:"12px",children:a("Price")}),!c&&!d&&(0,F.jsx)(ay.Z,{textAlign:"end",fontSize:"12px",children:a("Volume 24H")}),!c&&!d&&(0,F.jsx)(ay.Z,{textAlign:"end",fontSize:"12px",children:a("Liquidity")})]}),i.slice(0,t).map(function(a,b){return(0,F.jsx)(aQ,{onClick:function(){return ab("/info/token/".concat(a.address))},children:(0,F.jsxs)(aN,{children:[(0,F.jsxs)(p.Z,{children:[(0,F.jsx)(aD.X,{address:a.address}),(0,F.jsx)(ay.Z,{ml:"10px",children:(0,F.jsx)(ay.Z,{children:"".concat(a.name," (").concat(a.symbol,")")})}),(0,F.jsx)(aG.Z,{id:"watchlist-icon",style:{marginLeft:"8px"},fill:D.includes(a.address),onClick:function(b){b.stopPropagation(),_(a.address)}})]}),!c&&!d&&(0,F.jsxs)(ay.Z,{textAlign:"end",children:["$",(0,aE.d)(a.priceUSD)]}),!c&&!d&&(0,F.jsxs)(ay.Z,{textAlign:"end",children:["$",(0,aE.d)(a.volumeUSD)]}),!c&&!d&&(0,F.jsxs)(ay.Z,{textAlign:"end",children:["$",(0,aE.d)(a.liquidityUSD)]})]})},b)}),(h=b?T:Q,w=0===i.length&&!h&&e.length>=S.OZ,x=0===i.length&&!h,y=a(b?"Saved tokens will appear here":"No results"),(0,F.jsxs)(F.Fragment,{children:[h&&(0,F.jsx)(ax.Z,{}),(b?x:w)&&(0,F.jsx)(ay.Z,{children:y}),!b&&e.length<S.OZ&&(0,F.jsx)(ay.Z,{children:a("Search pools or tokens")})]})),(0,F.jsx)(aP,{onClick:function(){Y(t+5)},hide:i.length<=t,ref:n,children:a("See more...")}),(0,F.jsx)(aO,{}),(0,F.jsxs)(aN,{children:[(0,F.jsx)(ay.Z,{bold:!0,color:"secondary",mb:"8px",children:a("Pools")}),!c&&!d&&(0,F.jsx)(ay.Z,{textAlign:"end",fontSize:"12px",children:a("Volume 24H")}),!c&&!d&&(0,F.jsx)(ay.Z,{textAlign:"end",fontSize:"12px",children:a("Volume 7D")}),!c&&!d&&(0,F.jsx)(ay.Z,{textAlign:"end",fontSize:"12px",children:a("Liquidity")})]}),j.slice(0,v).map(function(a,b){return(0,F.jsx)(aQ,{onClick:function(){return ab("/info/pool/".concat(a.address))},children:(0,F.jsxs)(aN,{children:[(0,F.jsxs)(p.Z,{children:[(0,F.jsx)(aD.g,{address0:a.token0.address,address1:a.token1.address}),(0,F.jsx)(ay.Z,{ml:"10px",style:{whiteSpace:"nowrap"},children:(0,F.jsx)(ay.Z,{children:"".concat(a.token0.symbol," / ").concat(a.token1.symbol)})}),(0,F.jsx)(aG.Z,{id:"watchlist-icon",style:{marginLeft:"10px"},fill:I.includes(a.address),onClick:function(b){b.stopPropagation(),aa(a.address)}})]}),!c&&!d&&(0,F.jsxs)(ay.Z,{textAlign:"end",children:["$",(0,aE.d)(a.volumeUSD)]}),!c&&!d&&(0,F.jsxs)(ay.Z,{textAlign:"end",children:["$",(0,aE.d)(a.volumeUSDWeek)]}),!c&&!d&&(0,F.jsxs)(ay.Z,{textAlign:"end",children:["$",(0,aE.d)(a.liquidityUSD)]})]})},b)}),(l=b?U:r,z=0===j.length&&!r&&e.length>=S.OZ,A=0===j.length&&!l,B=a(b?"Saved tokens will appear here":"No results"),(0,F.jsxs)(F.Fragment,{children:[l&&(0,F.jsx)(ax.Z,{}),(b?A:z)&&(0,F.jsx)(ay.Z,{children:B}),!b&&e.length<S.OZ&&(0,F.jsx)(ay.Z,{children:a("Search pools or tokens")})]})),(0,F.jsx)(aP,{onClick:function(){Z(v+5)},hide:j.length<=v,ref:n,children:a("See more...")})]})]})]})};function D(){var a=(0,I.Z)(["\n  background: ",";\n  justify-content: space-between;\n  padding: 20px 16px;\n  flex-direction: column;\n  gap: 8px;\n  "," {\n    padding: 20px 40px;\n    flex-direction: row;\n  }\n"]);return D=function(){return a},a}var aU=(0,b.ZP)(p.Z).withConfig({componentId:"sc-13ff73fd-0"})(D(),function(a){return a.theme.colors.gradients.cardHeader},function(a){return a.theme.mediaQueries.sm}),aV=function(){var a=(0,au.$G)().t,c=(0,av.useRouter)(),d="/info/pools"===c.asPath,e="/info/tokens"===c.asPath,b=0;return d&&(b=1),e&&(b=2),(0,F.jsxs)(aU,{children:[(0,F.jsx)(aq.Z,{children:(0,F.jsxs)(ar.Z,{activeIndex:b,scale:"sm",variant:"subtle",children:[(0,F.jsx)(as.Z,{as:at.a,to:"/info",children:a("Overview")}),(0,F.jsx)(as.Z,{as:at.a,to:"/info/pools",children:a("Pools")}),(0,F.jsx)(as.Z,{as:at.a,to:"/info/tokens",children:a("Tokens")})]})}),(0,F.jsx)(aq.Z,{width:["100%","100%","250px"],children:(0,F.jsx)(aT,{})})]})},aW=function(a){var b=a.children;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(an,{}),(0,F.jsx)(ao,{}),(0,F.jsx)(ap,{}),(0,F.jsx)(aV,{}),b]})}}}])
//# sourceMappingURL=8296-64d16b45de88ad98.js.map