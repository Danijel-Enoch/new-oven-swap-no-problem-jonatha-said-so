"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2010],{68422:function(c,b,a){var d=a(26042),e=a(69396),f=a(85893);a(67294);var g=a(87379),h=a(17058);b.Z=function(i){var b=(0,g.Fg)(),a=b.isDark?"#3C3742":"#e9eaeb",c=b.isDark?"#666171":"#bdc2c4";return(0,f.jsxs)(h.Z,(0,e.Z)((0,d.Z)({viewBox:"0 0 32 32"},i),{children:[(0,f.jsx)("path",{d:"M32 16c0 8.837-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0s16 7.163 16 16z",fill:a}),(0,f.jsx)("mask",{id:"A","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"32",height:"32",children:(0,f.jsx)("path",{d:"M32 16c0 8.837-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0s16 7.163 16 16z",fill:"#c4c4c4"})}),(0,f.jsxs)("g",{mask:"url(#A)",children:[(0,f.jsx)("path",{d:"M25.128 16.436c0 3.115-4.133 5.641-9.231 5.641s-9.231-2.526-9.231-5.641V15h18.461v1.436zm2.205 13.806c0-3.815-5.074-6.908-11.333-6.908S4.667 26.426 4.667 30.242V32h22.667v-1.759z",fill:c}),(0,f.jsx)("path",{fillRule:"evenodd",d:"M10.234 5.601C9.942 4.264 10.96 3 12.328 3c1.184 0 2.143.959 2.143 2.143v3.873l1.427-.067c.589 0 1.166.034 1.724.098V5.143c0-1.184.959-2.143 2.143-2.143 1.368 0 2.386 1.264 2.093 2.601l-.931 4.258c2.529 1.006 4.201 2.749 4.201 4.731 0 3.115-4.133 5.641-9.231 5.641s-9.231-2.526-9.231-5.641c0-2.053 1.794-3.849 4.476-4.836l-.908-4.153z",fill:c}),(0,f.jsx)("ellipse",{cx:"12.308",cy:"14.846",rx:"1.026",ry:"1.538",fill:a}),(0,f.jsx)("ellipse",{cx:"19.385",cy:"14.846",rx:"1.026",ry:"1.538",fill:a})]})]}))}},78703:function(h,c,a){var i=a(7297),j=a(85893),d=a(68422),b=a(87379);function e(){var a=(0,i.Z)(["\n  border: 1px solid ",";\n  border-radius: 50%;\n  bottom: 0px;\n  position: absolute;\n  right: 0px;\n  min-width: 20px;\n  min-height: 20px;\n  width: 37.5%;\n  height: 37.5%;\n  z-index: 5;\n\n  "," {\n    border-width: 2px;\n  }\n"]);return e=function(){return a},a}function f(){var a=(0,i.Z)(["\n  background: url('","');\n  background-repeat: no-repeat;\n  background-size: cover;\n  border-radius: 50%;\n  position: relative;\n  width: 100%;\n  height: 100%;\n\n  & > img {\n    border-radius: 50%;\n  }\n"]);return f=function(){return a},a}function g(){var a=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n"]);return g=function(){return a},a}var k=b.ZP.img.withConfig({componentId:"sc-a986688f-0"})(e(),function(a){return a.theme.card.background},function(a){return a.theme.mediaQueries.sm}),l=b.ZP.div.withConfig({componentId:"sc-a986688f-1"})(f(),function(a){return a.bg}),m=(0,b.ZP)(d.Z).withConfig({componentId:"sc-a986688f-2"})(g());c.Z=function(c){var b,a=c.profile;return(0,j.jsxs)(l,{bg:null===(b=a.nft)|| void 0===b?void 0:b.image.thumbnail,children:[!a.isActive&&(0,j.jsx)(m,{}),a.team&&(0,j.jsx)(k,{src:"/images/teams/".concat(a.team.images.alt),alt:a.team.name})]})}},7402:function(f,b,a){var g=a(7297),c=a(87379);function d(){var a=(0,g.Z)(["\n  background: url('/images/nfts/no-profile-md.png');\n  background-repeat: no-repeat;\n  background-size: cover;\n  border-radius: 50%;\n  position: relative;\n  width: 96px;\n  height: 96px;\n\n  & > img {\n    border-radius: 50%;\n  }\n"]);return d=function(){return a},a}var e=c.ZP.div.withConfig({componentId:"sc-9689af5c-0"})(d());b.Z=e},21495:function(j,e,a){a.d(e,{Z:function(){return af}});var c,b,k=a(85893),l=a(90452),m=a(99150),n=a(26042),o=a(69396),p=a(67294);(b=c||(c={})).START="start",b.CHANGE="change",b.REMOVE="remove",b.APPROVE="approve";var q=function(a,b){switch(b.type){case"set_view":return(0,o.Z)((0,n.Z)({},a),{currentView:b.view,previousView:a.currentView});case"go_previous":return(0,o.Z)((0,n.Z)({},a),{currentView:a.previousView,previousView:a.currentView});default:return a}},r=function(){var a=(0,p.useReducer)(q,{currentView:c.START,previousView:null}),b=a[0],d=a[1];return(0,o.Z)((0,n.Z)({},b),{goToStart:function(){return d({type:"set_view",view:c.START})},goToChange:function(){return d({type:"set_view",view:c.CHANGE})},goToRemove:function(){return d({type:"set_view",view:c.REMOVE})},goToApprove:function(){return d({type:"set_view",view:c.APPROVE})},goPrevious:function(){return d({type:"go_previous"})}})},s=a(47568),t=a(7297),f=a(34051),u=a.n(f),d=a(87379),v=a(77044),g=a(96293),w=a(4318),x=a(97114),y=a(65044),z=a(96273),A=a(5039),B=a(24319),C=a(10253),D=a(21046),E=a(41144),F=a(92335),G=a(789),H=function(){var c=(0,m.$G)().t,a=(0,p.useState)(!0),d=a[0],h=a[1],b=(0,p.useState)({numberCakeToReactivate:D._Y,numberCakeToRegister:D._Y,numberCakeToUpdate:D._Y}),e=b[0],f=b[1],g=(0,G.Z)().toastError;return(0,p.useEffect)(function(){var a;(a=(0,s.Z)(u().mark(function a(){var b,d,e,i,j,k,l,m;return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b=["numberCakeToReactivate","numberCakeToRegister","numberCakeToUpdate"].map(function(a){return{address:(0,z.Re)(),name:a}}),a.t0=C.Z,a.next=5,(0,E.v)(F,b);case 5:a.t1=a.sent,d=(0,a.t0)(a.t1,3),i=(e=(0,C.Z)(d[0],1))[0],j=(0,C.Z)(d[1],1),k=j[0],l=(0,C.Z)(d[2],1),m=l[0],f({numberCakeToReactivate:i,numberCakeToRegister:k,numberCakeToUpdate:m}),h(!1),a.next=20;break;case 17:a.prev=17,a.t2=a.catch(0),g(c("Error"),c("Could not retrieve CAKE costs for profile"));case 20:case"end":return a.stop()}},a,null,[[0,17]])})),function(){return a.apply(this,arguments)})()},[f,g,c]),{costs:e,isLoading:d}},I=a(97971),J=a(21600),K=a(48650),L=a(78703);function h(){var a=(0,t.Z)(["\n  border-color: ",";\n  color: ",";\n  margin-bottom: 24px;\n\n  &:hover:not(:disabled):not(.button--disabled):not(:active) {\n    border-color: ",";\n    opacity: 0.8;\n  }\n"]);return h=function(){return a},a}function i(){var a=(0,t.Z)(["\n  height: 64px;\n  width: 64px;\n\n  "," {\n    height: 128px;\n    width: 128px;\n  }\n"]);return i=function(){return a},a}var M=(0,d.ZP)(g.Z).attrs({variant:"secondary"}).withConfig({componentId:"sc-fc1e7418-0"})(h(),function(a){return a.theme.colors.failure},function(a){return a.theme.colors.failure},function(a){return a.theme.colors.failure}),N=d.ZP.div.withConfig({componentId:"sc-fc1e7418-1"})(i(),function(a){return a.theme.mediaQueries.sm}),O=function(c){var i=c.goToApprove,j=c.goToChange,r=c.goToRemove,t=c.onDismiss,a=(0,m.$G)().t,C=(0,v.Ge)().account,D=(0,A.kL)(),E=D.reader,b=(0,K.Un)().profile,l=(0,B.Nn)(),F=l.balance,G=l.fetchStatus,n=H(),o=n.costs,O=o.numberCakeToUpdate,P=o.numberCakeToReactivate,d=n.isLoading,q=(0,p.useState)(null),e=q[0],Q=q[1],f=(null==b?void 0:b.isActive)?O:P,h=G===I.iF.Fetched&&F.gte(f);return((0,p.useEffect)(function(){var a,b=(a=(0,s.Z)(u().mark(function a(){var b;return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,J.S)(E,C,(0,z.Re)(),f);case 2:Q(b=a.sent);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});C&&!d&&b()},[C,f,Q,E,d]),b)?(0,k.jsxs)(w.Z,{alignItems:"center",justifyContent:"center",flexDirection:"column",children:[(0,k.jsx)(N,{children:(0,k.jsx)(L.Z,{profile:b})}),(0,k.jsx)(w.Z,{alignItems:"center",style:{height:"48px"},justifyContent:"center",children:(0,k.jsx)(x.Z,{as:"p",color:"failure",children:!d&&!h&&a("%minimum% CAKE required to change profile pic",{minimum:(0,y.dp)(f)})})}),b.isActive?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(g.Z,{width:"100%",mb:"8px",onClick:!0===e?i:j,disabled:d||!h||null===e,children:a("Change Profile Pic")}),(0,k.jsx)(M,{width:"100%",onClick:r,children:a("Remove Profile Pic")})]}):(0,k.jsx)(g.Z,{width:"100%",mb:"8px",onClick:!0===e?i:j,disabled:d||!h||null===e,children:a("Reactivate Profile")}),(0,k.jsx)(g.Z,{variant:"text",width:"100%",onClick:t,children:a("Close Window")})]}):null},P=a(19731),Q=a(19729),R=a(71228),S=a(71418),T=a(63964),U=function(c){var i,j=c.onDismiss,r=c.onSuccess,d=(0,p.useState)(!1),e=d[0],t=d[1],f=(0,K.Un)(),l=f.profile,v=f.refresh,n=H(),o=n.costs.numberCakeToReactivate,a=(0,m.$G)().t,z=(0,A.wr)(),B=(0,R.d)().callWithGasPrice,C=(0,G.Z)().toastSuccess,h=(0,S.Z)(),D=h.fetchWithCatchTxError,b=h.loading,q=(i=(0,s.Z)(u().mark(function b(){var c;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,D(function(){return B(z,"pauseProfile")});case 2:(null==(c=b.sent)?void 0:c.status)&&(v(),C(a("Profile Paused!"),(0,k.jsx)(T.YO,{txHash:c.transactionHash})),r&&r(),null==j||j());case 4:case"end":return b.stop()}},b)})),function(){return i.apply(this,arguments)});return l?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x.Z,{as:"p",color:"failure",mb:"24px",children:a("This will suspend your profile and send your Collectible back to your wallet")}),(0,k.jsx)(x.Z,{as:"p",color:"textSubtle",mb:"24px",children:a("While your profile is suspended, you won't be able to earn points, but your achievements and points will stay associated with your profile")}),(0,k.jsx)(x.Z,{as:"p",color:"textSubtle",mb:"24px",children:a("Cost to reactivate in the future: %cost% CAKE",{cost:(0,y.dp)(o)})}),(0,k.jsx)("label",{htmlFor:"acknowledgement",style:{cursor:"pointer",display:"block",marginBottom:"24px"},children:(0,k.jsxs)(w.Z,{alignItems:"center",children:[(0,k.jsx)(P.Z,{id:"acknowledgement",checked:e,onChange:function(){return t(!e)},scale:"sm"}),(0,k.jsx)(x.Z,{ml:"8px",children:a("I understand")})]})}),(0,k.jsx)(g.Z,{width:"100%",isLoading:b,endIcon:b?(0,k.jsx)(Q.Z,{spin:!0,color:"currentColor"}):null,disabled:!e||b,onClick:q,mb:"8px",children:a("Confirm")}),(0,k.jsx)(g.Z,{variant:"text",width:"100%",onClick:j,children:a("Close Window")})]}):null},V=a(84091),W=a(44850),X=a(67218),Y=a(67205),Z=a(75673),$=a(74136),_=a(13968),aa=a(75186),ab=a(10056),ac=function(h){var r,t=h.onDismiss,L=h.onSuccess,i=(0,p.useState)({tokenId:null,collectionAddress:null}),c=i[0],M=i[1],b=(0,m.$G)().t,j=(0,v.Ge)(),w=j.account,N=j.library,d=(0,K.Un)(),y=d.isLoading,B=d.profile,O=d.refresh,l=(0,ab.L)(w,B,y),C=l.nfts,D=l.isLoading,P=(0,A.wr)(),Q=(0,G.Z)().toastSuccess,S=(0,R.d)().callWithGasPrice,e=(0,p.useMemo)(function(){return C.filter(function(a){return a.location===aa.Fb.WALLET})},[C]),E=(0,_.mN)(e).data,F=(0,p.useMemo)(function(){return!!E&&!!E[c.tokenId]},[E,c.tokenId]),a=(0,X.Z)({onApprove:function(){return S((0,Y.vE)(c.collectionAddress,N.getSigner()),"approve",[(0,z.Re)(),c.tokenId])},onConfirm:function(){return B.isActive?S(P,"updateProfile",[c.collectionAddress,c.tokenId]):S(P,"reactivateProfile",[c.collectionAddress,c.tokenId,])},onSuccess:(r=(0,s.Z)(u().mark(function a(c){var d;return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d=c.receipt,O(),Q(b("Profile Updated!"),(0,k.jsx)(T.YO,{txHash:d.transactionHash})),L&&L(),null==t||t();case 5:case"end":return a.stop()}},a)})),function(a){return r.apply(this,arguments)})}),n=a.isApproving,H=a.isApproved,o=a.isConfirmed,f=a.isConfirming,I=a.handleApprove,J=a.handleConfirm,q=H||F;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x.Z,{as:"p",color:"textSubtle",mb:"24px",children:b("Choose a new Collectible to use as your profile pic.")}),D?(0,k.jsx)(V.Z,{width:"100%",height:"80px",mb:"16px"}):e.length>0?(0,k.jsx)(W.Z,{maxHeight:"300px",overflowY:"scroll",children:e.map(function(a){var b=function(){M({tokenId:a.tokenId,collectionAddress:a.collectionAddress})};return(0,k.jsx)($.Z,{name:"profilePicture",value:a.tokenId,image:a.image.thumbnail,isChecked:a.tokenId===c.tokenId,onChange:b,disabled:n||f||o,children:(0,k.jsx)(x.Z,{bold:!0,children:a.name})},"".concat(a.collectionAddress,"#").concat(a.tokenId))})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x.Z,{as:"p",color:"textSubtle",mb:"16px",children:b("Sorry! You don\u2019t have any eligible Collectibles in your wallet to use!")}),(0,k.jsx)(x.Z,{as:"p",color:"textSubtle",mb:"24px",children:b("Make sure you have a Pancake Collectible in your wallet and try again!")})]}),(0,k.jsx)(Z.Z,{isApproveDisabled:o||f||q||null===c.tokenId,isApproving:n,isConfirmDisabled:!q||o||null===c.tokenId,isConfirming:f,onApprove:I,onConfirm:J}),(0,k.jsx)(g.Z,{mt:"8px",variant:"text",width:"100%",onClick:t,disabled:n||f,children:b("Close Window")})]})},ad=function(d){var q=d.goToChange,h=d.onDismiss,b=(0,K.Un)().profile,c=(0,m.$G)().t,e=(0,S.Z)(),r=e.fetchWithCatchTxError,a=e.loading,f=H().costs,i=f.numberCakeToUpdate,j=f.numberCakeToReactivate,l=(0,A.kL)(),t=l.signer;if(!b)return null;var n,o=b.isActive?i:j,p=(n=(0,s.Z)(u().mark(function a(){var b;return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r(function(){return t.approve((0,z.Re)(),o.mul(2).toString())});case 2:(null==(b=a.sent)?void 0:b.status)&&q();case 4:case"end":return a.stop()}},a)})),function(){return n.apply(this,arguments)});return(0,k.jsxs)(w.Z,{flexDirection:"column",children:[(0,k.jsxs)(w.Z,{alignItems:"center",justifyContent:"space-between",mb:"24px",children:[(0,k.jsx)(x.Z,{children:c(b.isActive?"Cost to update:":"Cost to reactivate:")}),(0,k.jsxs)(x.Z,{children:[(0,y.dp)(o)," CAKE"]})]}),(0,k.jsx)(g.Z,{disabled:a,isLoading:a,endIcon:a?(0,k.jsx)(Q.Z,{spin:!0,color:"currentColor"}):null,width:"100%",mb:"8px",onClick:p,children:c("Enable")}),(0,k.jsx)(g.Z,{variant:"text",width:"100%",onClick:h,disabled:a,children:c("Close Window")})]})},ae=function(a,b){switch(b){case c.START:return a("Edit Profile");case c.CHANGE:return a("Change Profile Pic");case c.REMOVE:return a("Remove Profile Pic");case c.APPROVE:return a("Enable OVE");default:return""}},af=function(e){var b=e.onDismiss,f=e.onSuccess,d=r(),a=d.currentView,g=d.goToChange,i=d.goToRemove,j=d.goToApprove,o=d.goPrevious,n=(0,m.$G)().t,h=a===c.START;return(0,k.jsx)(l.Z,{title:ae(n,a),onBack:h?null:function(){return o()},onDismiss:b,hideCloseButton:!h,children:(0,k.jsxs)("div",{style:{maxWidth:"400px"},children:[a===c.START&&(0,k.jsx)(O,{goToApprove:j,goToChange:g,goToRemove:i,onDismiss:b}),a===c.REMOVE&&(0,k.jsx)(U,{onDismiss:b,onSuccess:f}),a===c.CHANGE&&(0,k.jsx)(ac,{onDismiss:b,onSuccess:f}),a===c.APPROVE&&(0,k.jsx)(ad,{goToChange:g,onDismiss:b})]})})}}}])
//# sourceMappingURL=2010-38dbf3dfce8c295d.js.map