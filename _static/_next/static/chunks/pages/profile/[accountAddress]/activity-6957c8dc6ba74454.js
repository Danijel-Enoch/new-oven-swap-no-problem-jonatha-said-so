(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4900],{71608:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[accountAddress]/activity",function(){return c(87370)}])},87370:function(g,b,a){"use strict";a.r(b),a.d(b,{default:function(){return M}});var h=a(85893),d=a(67342),i=a(47568),e=a(34051),j=a.n(e),k=a(67294),l=a(77044),m=a(93293),n=a(31318),o=a(86849),p=a(98946),q=a(38144),r=a(4318),s=a(97114),t=a(48993),u=a(158),v=a(69508),w=a(16863),x=a(99150),y=a(26710),z=a(90834),A=a(23917),B=a(11163),C=a(29815),D=a(75186),f=a(75472),E=a.n(f),F=function(h,a){var d,e=a.askOrderHistory,f=a.buyTradeHistory,g=a.sellTradeHistory,i=function(a){switch(a){case D.cP.CANCEL:return D.YG.CANCEL;case D.cP.MODIFY:return D.YG.MODIFY;case D.cP.NEW:return D.YG.NEW;default:return D.YG.MODIFY}},b=function(a){return a.map(function(a){var b=a.seller.id===h.toLowerCase(),c=b?D.YG.SELL:D.YG.BUY,d=a.timestamp,e=a.nft,f=a.askPrice,g=b?a.buyer.id:a.seller.id,i=a.id;return{marketEvent:c,price:f,otherParty:g,timestamp:d,nft:e,tx:i}})},c=(0,C.Z)((d=e).map(function(a){var b=i(a.orderType),c=a.timestamp,d=a.nft,e=a.askPrice,f=a.id;return{marketEvent:b,price:e,timestamp:c,nft:d,tx:f}})).concat((0,C.Z)(b(f)),(0,C.Z)(b(g)));return c.length>0?E()(c,function(a){return parseInt(a.timestamp,10)},"desc"):[]},G=a(7402),H=a(72818),I=a(72855),J=a(90366),K=function(){var P=(0,l.Ge)().account,Q=(0,n.TL)(),R=(0,B.useRouter)().query.accountAddress,S=(0,A.ZP)().theme,a=(0,x.$G)().t,d=(0,k.useState)(1),b=d[0],U=d[1],e=(0,k.useState)(1),f=e[0],V=e[1],g=(0,k.useState)([]),C=g[0],W=g[1],D=(0,k.useState)([]),T=D[0],X=D[1],E=(0,k.useState)([]),c=E[0],Y=E[1],K=(0,k.useState)(!0),L=K[0],Z=K[1],$=(0,z.Hf)(),M=(0,p.Z)(),N=M.isXs,O=M.isSm;return(0,k.useEffect)(function(){var a,b=(a=(0,i.Z)(j().mark(function a(){var b;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,o._z)(R.toLocaleLowerCase());case 3:Y(F(R,b=a.sent)),Z(!1),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error("Failed to fetch address activity",a.t0);case 11:case"end":return a.stop()}},a,null,[[0,8]])})),function(){return a.apply(this,arguments)});(0,m.UJ)(R)&&b()},[P,R,Q]),(0,k.useEffect)(function(){var a,b=(a=(0,i.Z)(j().mark(function a(){var b;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,J.M)(c);case 2:X(b=a.sent);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});return c.length>0&&(V(Math.ceil(c.length/8)),b()),function(){W([]),X([]),V(1),U(1)}},[c]),(0,k.useEffect)(function(){c.length>0&&W(c.slice(8*(b-1),8*b))},[c,b]),(0,h.jsx)(q.Z,{style:{overflowX:"auto"},children:0!==c.length||0!==T.length||0!==C.length||L?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(t.Z,{children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsxs)(u.Th,{textAlign:["center",null,"left"],children:[" ",a("Item")]}),(0,h.jsxs)(u.Th,{textAlign:"right",children:[" ",a("Event")]}),N||O?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(u.Th,{textAlign:"right",children:[" ",a("Price")]}),(0,h.jsxs)(u.Th,{textAlign:"center",children:[" ",a("From/To")]})]}),(0,h.jsxs)(u.Th,{textAlign:"center",children:[" ",a("Date")]}),N||O?null:(0,h.jsx)(u.Th,{})]})}),(0,h.jsx)("tbody",{children:L?(0,h.jsx)(y.Z,{}):C.map(function(a){var b=T.find(function(c){var b;return c.tokenId===a.nft.tokenId&&c.collectionAddress.toLowerCase()===(null===(b=a.nft)|| void 0===b?void 0:b.collection.id.toLowerCase())});return(0,h.jsx)(I.Z,{activity:a,nft:b,bnbBusdPrice:$,isUserActivity:!0},"".concat(a.nft.tokenId).concat(a.timestamp))})})]}),(0,h.jsx)(r.Z,{borderTop:"1px ".concat(S.colors.cardBorder," solid"),pt:"24px",flexDirection:"column",justifyContent:"space-between",height:"100%",children:(0,h.jsxs)(H.O,{children:[(0,h.jsx)(H.E,{onClick:function(){U(1===b?b:b-1)},children:(0,h.jsx)(v.Z,{color:1===b?"textDisabled":"primary"})}),(0,h.jsx)(s.Z,{children:a("Page %page% of %maxPage%",{page:b,maxPage:f})}),(0,h.jsx)(H.E,{onClick:function(){U(b===f?b:b+1)},children:(0,h.jsx)(w.Z,{color:b===f?"textDisabled":"primary"})})]})})]}):(0,h.jsxs)(r.Z,{p:"24px",flexDirection:"column",alignItems:"center",children:[(0,h.jsx)(G.Z,{}),(0,h.jsx)(s.Z,{pt:"8px",bold:!0,children:a("No NFT market history found")})]})})},L=a(21280),c=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(L.Z,{}),(0,h.jsx)(K,{})]})};c.Layout=d.K;var M=c},90366:function(h,b,a){"use strict";a.d(b,{M:function(){return o}});var c,d=a(47568),i=a(26042),j=a(69396),k=a(10253),e=a(34051),f=a.n(e),l=a(86849),g=a(45578),m=a.n(g),n=a(40580),o=(c=(0,d.Z)(f().mark(function a(b){var c,d,e,g,h,o;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.some(function(a){return a.nft.collection.id.toLowerCase()===n.J.toLowerCase()}),d=m()(b.filter(function(a){return a.nft.collection.id.toLowerCase()!==n.J.toLowerCase()}).map(function(a){return{tokenId:a.nft.tokenId,collectionAddress:a.nft.collection.id}}),function(a){return"".concat(a.tokenId,"#").concat(a.collectionAddress)}),a.t0=k.Z,a.next=5,Promise.all([c?(0,l.Rq)(n.J):Promise.resolve(null),(0,l._C)(d),]);case 5:return a.t1=a.sent,g=(e=(0,a.t0)(a.t1,2))[0],h=e[1],o=g?b.filter(function(a){return a.nft.collection.id.toLowerCase()===n.J.toLowerCase()}).map(function(a){var b=g.data[a.nft.otherId].collection.name;return(0,j.Z)((0,i.Z)({},g.data[a.nft.otherId]),{tokenId:a.nft.tokenId,attributes:[{traitType:"bunnyId",value:a.nft.otherId}],collectionAddress:a.nft.collection.id,collectionName:b})}):[],a.abrupt("return",h.concat(o));case 11:case"end":return a.stop()}},a)})),function(a){return c.apply(this,arguments)})},21280:function(f,b,a){"use strict";a.d(b,{Z:function(){return l}});var g=a(85893),h=a(99150),i=a(11163),j=a(7297),c=a(37282),d=a(87379);function e(){var a=(0,j.Z)(["\n  background-color: transparent;\n  border-bottom: 1px "," solid;\n"]);return e=function(){return a},a}var k=(0,d.ZP)(c.Z).withConfig({componentId:"sc-12f79d1a-0"})(e(),function(a){return a.theme.colors.cardBorder}),l=function(){var a=(0,h.$G)().t,b=(0,i.useRouter)(),c=b.query.accountAddress,d=b.asPath,e=[{label:a("Items"),href:"/profile/".concat(c)},{label:a("Activity"),href:"/profile/".concat(c,"/activity")},];return(0,g.jsx)(k,{items:e,activeItem:d,justifyContent:"flex-start",mb:"18px"})}}},function(a){a.O(0,[6197,7603,4408,2010,1213,4554,9774,2888,179],function(){var b;return a(a.s=71608)}),_N_E=a.O()}])
//# sourceMappingURL=activity-6957c8dc6ba74454.js.map